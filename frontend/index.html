<!DOCTYPE html>
<html>
<head>
<title>EventSphere</title>

<style>
body{
font-family: Arial;
background:#f4f6f8;
padding:40px;
}

h1{
text-align:center;
}

.container{
max-width:900px;
margin:auto;
}

.card{
background:white;
padding:20px;
margin:15px 0;
border-radius:10px;
box-shadow:0 2px 8px rgba(0,0,0,0.1);
}

button{
background:#007bff;
color:white;
border:none;
padding:10px 15px;
border-radius:5px;
cursor:pointer;
}

input,textarea{
width:100%;
padding:10px;
margin:5px 0;
}
</style>
<link rel="icon" href="data:,">
</head>

<body>

<div class="container">

<h1>EventSphere</h1>

<h3>Create Event</h3>

<input id="title" placeholder="Event Title">
<input id="date" type="date">
<input id="location" placeholder="Location">
<textarea id="description" placeholder="Description"></textarea>

<button onclick="addEvent()">Create Event</button>

<h2>Upcoming Events</h2>

<div id="events"></div>

</div>

<script>

async function loadEvents(){
const res = await fetch("/api/events");
const data = await res.json();

const container = document.getElementById("events");
container.innerHTML="";

data.forEach(e=>{
container.innerHTML += `
<div class="card">
<h3>${e.title}</h3>
<p><b>Date:</b> ${e.date}</p>
<p><b>Location:</b> ${e.location}</p>
<p>${e.description}</p>
</div>`;
});
}

async function addEvent(){

const event={
title:document.getElementById("title").value,
date:document.getElementById("date").value,
location:document.getElementById("location").value,
description:document.getElementById("description").value
};

await fetch("/api/events",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify(event)
});

loadEvents();
}

loadEvents();

</script>

</body>
</html>